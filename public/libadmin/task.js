// Generated by CoffeeScript 1.8.0
(function() {
  var Task;

  Task = (function() {
    function Task() {}

    Task.list = function(token, userid, week, callback) {
      return Util._get('../admin/task/list', {
        userid: userid,
        week: week,
        access_token: token
      }, function(resp) {
        var task, tasks, _i, _len, _ref;
        if (Error._hasError(resp)) {
          return callback(new Error(resp.error_id, resp.error_desc));
        } else {
          tasks = [];
          _ref = resp.tasks;
          for (_i = 0, _len = _ref.length; _i < _len; _i++) {
            task = _ref[_i];
            tasks.push(new Task()._update(task));
          }
          return callback(tasks);
        }
      });
    };

    Task.auth = function(token, userid, task_id, pass, reason) {
      return Util._post('../admin/task/auth', {
        userid: userid,
        task_id: task_id,
        pass: pass,
        reason: reason,
        access_token: token
      }, function(resp) {
        if (Error._hasError(resp)) {
          return callback(new Error(resp.error_id, resp.error_desc));
        } else {
          return callback(resp);
        }
      });
    };

    Task.prototype._update = function(data) {
      this.task_id = data.task_id;
      this.type = data.type;
      this.desc = data.desc;
      this.images = data.images;
      this.status = data.status;
      this.reason = data.reason;
      return this;
    };

    return Task;

  })();

}).call(this);

//# sourceMappingURL=task.js.map
